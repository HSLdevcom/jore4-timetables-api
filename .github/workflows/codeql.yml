name: CodeQL analysis

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
  schedule:
    - cron: "0 8 * * *" # every day at 8 AM UTC

permissions:
  security-events: write
  packages: read
  contents: read
  actions: read

jobs:
  analyze:
    uses: HSLdevcom/jore4-tools/.github/workflows/shared-codeql.yml@shared-ghas-workflows-v1
    with:
      languages: '["actions", "java-kotlin"]'
      java_build_command: "cp profiles/dev/config.properties profiles/dev/config.runner.properties && mvn clean install -DskipTests"
      java_version: "17"
